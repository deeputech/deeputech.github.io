<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="icon" href="/assets/images/logo.png"><title>Deploy a web app to Azure App Service using Terraform | Technorage</title><meta name="generator" content="Jekyll v4.1.1"><meta property="og:title" content="Deploy a web app to Azure App Service using Terraform"><meta name="author" content="deepu"><meta property="og:locale" content="en_US"><meta name="description" content="Deploy a web app to Azure App Service using Terraform"><meta property="og:description" content="Deploy a web app to Azure App Service using Terraform"><link rel="canonical" href="https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform"><meta property="og:url" content="https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform"><meta property="og:site_name" content="Technorage"><meta property="og:type" content="article"><meta property="article:published_time" content="2019-06-12T00:00:00+02:00"><meta name="twitter:card" content="summary"><meta property="twitter:title" content="Deploy a web app to Azure App Service using Terraform"><script type="application/ld+json">{"mainEntityOfPage":{"@type":"WebPage","@id":"https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform"},"url":"https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform","author":{"@type":"Person","name":"deepu"},"description":"Deploy a web app to Azure App Service using Terraform","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://deepu.tech/assets/images/logo.png"},"name":"deepu"},"headline":"Deploy a web app to Azure App Service using Terraform","dateModified":"2019-06-12T00:00:00+02:00","datePublished":"2019-06-12T00:00:00+02:00","@context":"https://schema.org"}</script><link rel="canonical" href="https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform"><meta property="og:url" content=""><meta name="monetization" content="$ilp.uphold.com/Aw7eGpxKNyK7"><meta name="twitter:site" content="@deepu105"><meta name="twitter:creator" content="@deepu105"><meta name="twitter:title" content="Deploy a web app to Azure App Service using Terraform"><meta name="twitter:description" content="Deploy a web app to Azure App Service using Terraform"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://thepracticaldev.s3.amazonaws.com/i/8mb4tyleqthxsvl1yxy6.png"><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y=" crossorigin="anonymous" as="style" onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y=" crossorigin="anonymous"></noscript><link href="/assets/css/screen.css" rel="stylesheet"><link href="/assets/css/main.css" rel="stylesheet"></head><body class="layout-post"><noscript id="deferred-styles"><link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css" crossorigin="anonymous"></noscript><nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down pr-md-0 pl-md-0"><div class="container d-flex align-items-center"><a class="navbar-brand" href="/"><h2 class="sitetitle">Technorage</h2><small class="sitetitlesub">Where I rage about technology and stuff! </small></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarMediumish"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/">About</a></li><li class="nav-item active"><a class="nav-link" href="/blogs/"><i class="fas fa-blog"></i> Blog</a></li><li class="nav-item"><a class="nav-link" href="/books"><i class="fas fa-book"></i> Books</a></li><li class="nav-item"><a class="nav-link" href="/appearances"><i class="fas fa-chalkboard-teacher"></i> Appearances</a></li><style>.lunrsearchresult .title{color:#d9230f}.lunrsearchresult .url{color:silver}.lunrsearchresult a{display:block;color:#777}.lunrsearchresult a:focus,.lunrsearchresult a:hover{text-decoration:none}.lunrsearchresult a:hover .title{text-decoration:underline}</style><form class="bd-search" onsubmit='return lunr_search(document.getElementById("lunrsearch").value)'><input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."></form><div id="lunrsearchresults"><ul></ul></div></ul></div></div></nav><div class="site-content"><div class="container"><div class="main-content"><div class="container mt-5"><div class="row"><div class="col-lg-2 pl-0"><div class="sticky-top sticky-top-offset"><div class="popover-wrapper d-none d-lg-block"><a href="#"><h2 class="popover-title"><i class="fas fa-stream fa-lg"></i> TOC</h2></a><div class="popover-content"><div class="toc lead"><h3 class="font-weight-bold">Summary</h3></div></div></div><div class="share"><p>Share</p><ul><li class="ml-1 mr-1"><div class="mast-share mast-share-sm"><input type="checkbox" class="mast-check-toggle"><div class="mast-instance"><span>Instance: </span><input type="textbox" name="mast-instance-input" placeholder="mastodon.social"> <button class="mast-share-button">Share</button></div><label title="Mastodon" class="mast-top mast-check-label"><i class="fab fa-mastodon"></i></label></div><script>Array.prototype.forEach || (Array.prototype.forEach = function (r) { var o, t; if (null == this) throw new TypeError("this is null or not defined"); var n = Object(this), e = n.length >>> 0; if ("function" != typeof r) throw new TypeError(r + " is not a function"); for (arguments.length > 1 && (o = arguments[1]), t = 0; t < e;) { var i; t in n && (i = n[t], r.call(o, i, t, n)), t++ } }); document.addEventListener("DOMContentLoaded", function () { document.querySelectorAll(".mast-share").forEach(function (e, t) { e.querySelector(".mast-check-toggle").id = "mast-check-toggle-" + t, e.querySelector(".mast-check-label").htmlFor = "mast-check-toggle-" + t, e.querySelector(".mast-share-button").addEventListener("click", function (t) { var a = new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@|\\d{1,3}(?:\\.\\d{1,3}){3}|(?:(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)(?:\\.(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)*(?:\\.[a-z\\u00a1-\\uffff]{2,6}))(?::\\d+)?(?:[^\\s]*)?$", "i"), n = e.querySelector('input[name="mast-instance-input"]'); if (a.test(n.value)) { var o = `http://${n.value.replace(/(^\w+:|^)\/\//, "")}/share?text=${encodeURIComponent(document.title)} ${encodeURIComponent(location.href)}`; window.open(o, "new", "toolbar=no,location=no,status=yes,resizable=yes,scrollbars=yes,height=600,width=400") } else n.classList.add("invalid"), setTimeout(function () { n.classList.remove("invalid") }, 300) }), e.addEventListener("mouseleave", function (t) { e.querySelector(".mast-check-toggle").checked = !1 }) }) });</script></li><li class="ml-1 mr-1"><a target="_blank" href="https://twitter.com/intent/tweet?text=Deploy a web app to Azure App Service using Terraform by @deepu105 &url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' title="Twitter"><i class="fab fa-twitter"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"linkedin-share","width=550,height=435"),!1' title="Linkedin"><i class="fab fa-linkedin-in"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://news.ycombinator.com/submitlink?u=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/&t=Deploy a web app to Azure App Service using Terraform" onclick='return window.open(this.href,"hackernews-share","width=550,height=435"),!1' title="Hacker News"><i class="fab fa-hacker-news-square"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://www.reddit.com/submit?url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/&title=Deploy a web app to Azure App Service using Terraform" onclick='return window.open(this.href,"reddit-share","width=550,height=435"),!1' title="Reddit"><i class="fab fa-reddit-square"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://facebook.com/sharer.php?u=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"facebook-share","width=550,height=435"),!1' title="Facebook"><i class="fab fa-facebook-f"></i></a></li></ul><div class="sep"></div><ul><li><script type="text/javascript">var HYVOR_TALK_WEBSITE=4123</script><script async type="text/javascript" src="//talk.hyvor.com/web-api/count/"></script><span data-talk-id="https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/"></span></li></ul></div><div class="ad-vertical-md"><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3I&placement=deeputech" id="_carbonads_js"></script></div></div></div><div class="col-lg-9 flex-first flex-lg-unordered"><div class="mainheading"><h1 class="posttitle">Deploy a web app to Azure App Service using Terraform</h1><img data-src="https://thepracticaldev.s3.amazonaws.com/i/8mb4tyleqthxsvl1yxy6.png" alt="Deploy a web app to Azure App Service using Terraform" class="featured-image img-fluid lozad" src="/assets/images/placeholder.jpg"><div class="row post-top-meta"><div class="col-12 text-center text-md-left mb-4 mb-md-0"><img class="author-thumb lozad" src="/assets/images/placeholder.jpg" data-src="https://www.gravatar.com/avatar/7f408bc67dc9ae3b288ee92d16d3c4c2?s=250&d=mm&r=x" alt="Deepu K Sasidharan"> <a target="_blank" class="link-dark" href="https://www.deepu.tech">Deepu K Sasidharan</a><a target="_blank" href="https://mastodon.social/@deepu105" class="btn follow"><i class="fab fa-mastodon"></i> Follow</a><span class="separator d-none d-md-inline-block">| </span><span class="author-description"><small><time class="post-date" datetime="2019-06-12">12 Jun 2019</time> </small><span class="separator d-inline-block">| </span><small>5 mins read </small><span class="separator d-inline-block d-lg-none">| </span><span class="d-inline-block d-lg-none"><div class="share" style="margin-top:0"><ul><li class="ml-1 mr-1"><div class="mast-share mast-share-sm"><input type="checkbox" class="mast-check-toggle"><div class="mast-instance"><span>Instance: </span><input type="textbox" name="mast-instance-input" placeholder="mastodon.social"> <button class="mast-share-button">Share</button></div><label title="Mastodon" class="mast-top mast-check-label"><i class="fab fa-mastodon"></i></label></div><script>Array.prototype.forEach || (Array.prototype.forEach = function (r) { var o, t; if (null == this) throw new TypeError("this is null or not defined"); var n = Object(this), e = n.length >>> 0; if ("function" != typeof r) throw new TypeError(r + " is not a function"); for (arguments.length > 1 && (o = arguments[1]), t = 0; t < e;) { var i; t in n && (i = n[t], r.call(o, i, t, n)), t++ } }); document.addEventListener("DOMContentLoaded", function () { document.querySelectorAll(".mast-share").forEach(function (e, t) { e.querySelector(".mast-check-toggle").id = "mast-check-toggle-" + t, e.querySelector(".mast-check-label").htmlFor = "mast-check-toggle-" + t, e.querySelector(".mast-share-button").addEventListener("click", function (t) { var a = new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@|\\d{1,3}(?:\\.\\d{1,3}){3}|(?:(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)(?:\\.(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)*(?:\\.[a-z\\u00a1-\\uffff]{2,6}))(?::\\d+)?(?:[^\\s]*)?$", "i"), n = e.querySelector('input[name="mast-instance-input"]'); if (a.test(n.value)) { var o = `http://${n.value.replace(/(^\w+:|^)\/\//, "")}/share?text=${encodeURIComponent(document.title)} ${encodeURIComponent(location.href)}`; window.open(o, "new", "toolbar=no,location=no,status=yes,resizable=yes,scrollbars=yes,height=600,width=400") } else n.classList.add("invalid"), setTimeout(function () { n.classList.remove("invalid") }, 300) }), e.addEventListener("mouseleave", function (t) { e.querySelector(".mast-check-toggle").checked = !1 }) }) });</script></li><li class="ml-1 mr-1"><a target="_blank" href="https://twitter.com/intent/tweet?text=Deploy a web app to Azure App Service using Terraform by @deepu105 &url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' title="Twitter"><i class="fab fa-twitter"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"linkedin-share","width=550,height=435"),!1' title="Linkedin"><i class="fab fa-linkedin-in"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://news.ycombinator.com/submitlink?u=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/&t=Deploy a web app to Azure App Service using Terraform" onclick='return window.open(this.href,"hackernews-share","width=550,height=435"),!1' title="Hacker News"><i class="fab fa-hacker-news-square"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://www.reddit.com/submit?url=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/&title=Deploy a web app to Azure App Service using Terraform" onclick='return window.open(this.href,"reddit-share","width=550,height=435"),!1' title="Reddit"><i class="fab fa-reddit-square"></i></a></li><li class="ml-1 mr-1"><a target="_blank" href="https://facebook.com/sharer.php?u=https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/" onclick='return window.open(this.href,"facebook-share","width=550,height=435"),!1' title="Facebook"><i class="fab fa-facebook-f"></i></a></li></ul></div></span></span></div></div></div><div class="article-post"><p>Deploying Java web applications to Azure is easy and has been tried, tested and explained many times by many people. My friend <a href="https://dev.to/jdubois">Julien Dubois</a> has a nice series on it <a href="https://dev.to/azure/creating-a-spring-boot-and-angular-application-for-azure-1-7-2mb8">here</a>. Azure makes it really easy to use its <a href="https://azure.microsoft.com/en-gb/services/app-service/">App Service</a> as it provides many different ways of deploying a web app.</p><p>If you are a modern full-stack Java developer there is a high chance that you are deploying your application as a Docker image. Hence today let’s see how we can deploy a Java web application to Azure App Service using Docker and Terraform in the true spirit of infrastructure as code. The approach is pretty much the same for any web application that is built as a docker image and not necessarily tied down to just Java.</p><p>To try this out you would need to have <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java</a>, <a href="https://nodejs.org/en/download/">NodeJS</a>, <a href="https://www.terraform.io/">Terraform</a>, <a href="https://docs.docker.com/install/">Docker</a> and <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">Azure CLI</a> installed. Follow the links to install them if needed.</p><p>As one of the lead developer of <a href="https://www.jhipster.tech">JHipster</a> (A handy development platform to generate, develop and deploy Spring Boot + Angular/React/Vue Web applications and Spring microservices), I would use a JHipster web application as the example here. So let’s get started.</p><p>Let’s build a very simple web application using JHipster. We will use the <a href="https://www.jhipster.tech/jdl/">JDL</a> feature to scaffold our application.</p><p>We will use the below JDL for our application. Save it to a file named <code class="language-plaintext highlighter-rouge">app.jdl</code> in a directory where you want to create the application.</p><pre><code class="language-jdl">application {
    config {
        baseName helloJHipster,
        applicationType monolith,
        packageName tech.jhipster.demo,
        authenticationType jwt,
        buildTool gradle,
        clientFramework react,
        databaseType sql,
        prodDatabaseType mysql,
        languages [en, nl]
    }
}

</code></pre><p>Now let us scaffold this using JHipster. Open your favorite console/terminal and run the below command in the directory where you saved the above JDL file, make sure it’s an empty directory.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>npx generator-jhipster import-jdl app.jdl
</pre></td></tr></tbody></table></code></pre></div></div><p>If you already have JHipster <a href="https://www.jhipster.tech/installation/">installed</a> you can just run</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>jhipster import-jdl app.jdl
</pre></td></tr></tbody></table></code></pre></div></div><p>This will scaffold the application and install the required client-side dependencies. It might take a few minutes(NPM!) so maybe its time for that coffee.</p><p>You can see the application in action by running <code class="language-plaintext highlighter-rouge">./gradlew</code> on the same terminal once the scaffolding is done. You can refer to the generated <code class="language-plaintext highlighter-rouge">Readme.md</code> for more instructions regarding the application.</p><p>Now let’s move on to the focus of this post, deploying this to Azure App Service with Terraform. Let us first build and publish the docker image for our application.</p><p>JHipster conveniently provides everything that is required to build docker images. Let us use the provided docker integration using <a href="https://github.com/GoogleContainerTools/jib">JIB</a> to build the images. Run the below Gradle command.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>./gradlew bootJar <span class="nt">-Pprod</span> jibDockerBuild
</pre></td></tr></tbody></table></code></pre></div></div><p>Now let us tag and push this to our docker registry, make sure you have <a href="https://docs.docker.com/engine/reference/commandline/login/">logged into docker</a> and run these commands. Use your own docker hub account name.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>docker tag hellojhipster:latest deepu105/hellojhipster:latest
<span class="nv">$ </span>docker push deepu105/hellojhipster:latest

</pre></td></tr></tbody></table></code></pre></div></div><p>You can also push to Azure Container registry instead of Docker Hub if you like.</p><p>Now that our application and Docker images are ready, let’s prepare the Terraform infrastructure for App Service and MySQL database. For other ways of deploying a JHipster web app to Azure check <a href="https://www.jhipster.tech/azure/">this</a> out.</p><p>First, create a folder for our terraform files. Let’s name the folder <code class="language-plaintext highlighter-rouge">terraform</code>.</p><p>Now create three files called <code class="language-plaintext highlighter-rouge">main.tf</code>, <code class="language-plaintext highlighter-rouge">outputs.tf</code>, and <code class="language-plaintext highlighter-rouge">variables.tf</code> in this folder.</p><p>Let us define the variables we will use. Save the below in <code class="language-plaintext highlighter-rouge">variables.tf</code>.</p><div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="nx">variable</span> <span class="s2">"prefix"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"The prefix used for all resources in this example"</span>
  <span class="nx">default</span>     <span class="p">=</span> <span class="s2">"xl"</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="s2">"location"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"The Azure location where all resources in this example should be created"</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="s2">"subscription_id"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Azure Subscription ID to be used for billing"</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="s2">"my_sql_master_password"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"MySql master password"</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="s2">"docker_image"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Docker image name"</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="s2">"docker_image_tag"</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="p">=</span> <span class="s2">"Docker image tag"</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div><p>Now let us define our <code class="language-plaintext highlighter-rouge">main.tf</code></p><p>First, let us add a configuration for Azure resource manager and create an Azure resource group to hold our resources.</p><div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nx">provider</span> <span class="s2">"azurerm"</span> <span class="p">{</span>
  <span class="nx">version</span>         <span class="p">=</span> <span class="s2">"=1.24.0"</span>
  <span class="nx">subscription_id</span> <span class="p">=</span> <span class="s2">"${var.subscription_id}"</span>
<span class="p">}</span>

<span class="nx">resource</span> <span class="s2">"azurerm_resource_group"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>     <span class="p">=</span> <span class="s2">"${var.prefix}-resources"</span>
  <span class="nx">location</span> <span class="p">=</span> <span class="s2">"${var.location}"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div><p>Now let us add the configuration to create a <a href="https://www.terraform.io/docs/providers/azurerm/r/mysql_server.html">MySQL database server</a> along with the required firewall rules to let App Service access the DB. If you want to add local access from your machine add a firewall rule block for your IP as well.</p><div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="c1"># This creates a MySQL server</span>
<span class="nx">resource</span> <span class="s2">"azurerm_mysql_server"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>                <span class="p">=</span> <span class="s2">"${var.prefix}-mysql-server"</span>
  <span class="nx">location</span>            <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.location}"</span>
  <span class="nx">resource_group_name</span> <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.name}"</span>

  <span class="nx">sku</span> <span class="p">{</span>
    <span class="nx">name</span>     <span class="p">=</span> <span class="s2">"B_Gen5_2"</span>
    <span class="nx">capacity</span> <span class="p">=</span> <span class="mi">2</span>
    <span class="nx">tier</span>     <span class="p">=</span> <span class="s2">"Basic"</span>
    <span class="nx">family</span>   <span class="p">=</span> <span class="s2">"Gen5"</span>
  <span class="p">}</span>

  <span class="nx">storage_profile</span> <span class="p">{</span>
    <span class="nx">storage_mb</span>            <span class="p">=</span> <span class="mi">5120</span>
    <span class="nx">backup_retention_days</span> <span class="p">=</span> <span class="mi">7</span>
    <span class="nx">geo_redundant_backup</span>  <span class="p">=</span> <span class="s2">"Disabled"</span>
  <span class="p">}</span>

  <span class="nx">administrator_login</span>          <span class="p">=</span> <span class="s2">"mysqladminun"</span>
  <span class="nx">administrator_login_password</span> <span class="p">=</span> <span class="s2">"${var.my_sql_master_password}"</span>
  <span class="nx">version</span>                      <span class="p">=</span> <span class="s2">"5.7"</span>
  <span class="nx">ssl_enforcement</span>              <span class="p">=</span> <span class="s2">"Disabled"</span>
<span class="p">}</span>

<span class="c1"># This is the database that our application will use</span>
<span class="nx">resource</span> <span class="s2">"azurerm_mysql_database"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>                <span class="p">=</span> <span class="s2">"${var.prefix}_mysql_db"</span>
  <span class="nx">resource_group_name</span> <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.name}"</span>
  <span class="nx">server_name</span>         <span class="p">=</span> <span class="s2">"${azurerm_mysql_server.main.name}"</span>
  <span class="nx">charset</span>             <span class="p">=</span> <span class="s2">"utf8"</span>
  <span class="nx">collation</span>           <span class="p">=</span> <span class="s2">"utf8_unicode_ci"</span>
<span class="p">}</span>

<span class="c1"># This rule is to enable the 'Allow access to Azure services' checkbox</span>
<span class="nx">resource</span> <span class="s2">"azurerm_mysql_firewall_rule"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>                <span class="p">=</span> <span class="s2">"${var.prefix}-mysql-firewall"</span>
  <span class="nx">resource_group_name</span> <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.name}"</span>
  <span class="nx">server_name</span>         <span class="p">=</span> <span class="s2">"${azurerm_mysql_server.main.name}"</span>
  <span class="nx">start_ip_address</span>    <span class="p">=</span> <span class="s2">"0.0.0.0"</span>
  <span class="nx">end_ip_address</span>      <span class="p">=</span> <span class="s2">"0.0.0.0"</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div><p>This will create a MySQL server, a database for our app on the server and enable access from App Service.</p><p>Now let us configure the <a href="https://www.terraform.io/docs/providers/azurerm/r/app_service.html">App Service</a> itself along with a service plan.</p><div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="c1"># This creates the plan that the service use</span>
<span class="nx">resource</span> <span class="s2">"azurerm_app_service_plan"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>                <span class="p">=</span> <span class="s2">"${var.prefix}-asp"</span>
  <span class="nx">location</span>            <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.location}"</span>
  <span class="nx">resource_group_name</span> <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.name}"</span>
  <span class="nx">kind</span>                <span class="p">=</span> <span class="s2">"Linux"</span>
  <span class="nx">reserved</span>            <span class="p">=</span> <span class="kc">true</span>

  <span class="nx">sku</span> <span class="p">{</span>
    <span class="nx">tier</span> <span class="p">=</span> <span class="s2">"Standard"</span>
    <span class="nx">size</span> <span class="p">=</span> <span class="s2">"S1"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># This creates the service definition</span>
<span class="nx">resource</span> <span class="s2">"azurerm_app_service"</span> <span class="s2">"main"</span> <span class="p">{</span>
  <span class="nx">name</span>                <span class="p">=</span> <span class="s2">"${var.prefix}-appservice"</span>
  <span class="nx">location</span>            <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.location}"</span>
  <span class="nx">resource_group_name</span> <span class="p">=</span> <span class="s2">"${azurerm_resource_group.main.name}"</span>
  <span class="nx">app_service_plan_id</span> <span class="p">=</span> <span class="s2">"${azurerm_app_service_plan.main.id}"</span>

  <span class="nx">site_config</span> <span class="p">{</span>
    <span class="nx">app_command_line</span> <span class="p">=</span> <span class="s2">""</span>
    <span class="nx">linux_fx_version</span> <span class="p">=</span> <span class="s2">"DOCKER|${var.docker_image}:${var.docker_image_tag}"</span>
    <span class="nx">always_on</span>        <span class="p">=</span> <span class="kc">true</span>
  <span class="p">}</span>

  <span class="nx">app_settings</span> <span class="p">=</span> <span class="p">{</span>
    <span class="s2">"WEBSITES_ENABLE_APP_SERVICE_STORAGE"</span> <span class="p">=</span> <span class="s2">"false"</span>
    <span class="s2">"DOCKER_REGISTRY_SERVER_URL"</span>          <span class="p">=</span> <span class="s2">"https://index.docker.io"</span>

    <span class="c1"># These are app specific environment variables</span>
    <span class="s2">"SPRING_PROFILES_ACTIVE"</span>     <span class="p">=</span> <span class="s2">"prod,swagger"</span>
    <span class="s2">"SPRING_DATASOURCE_URL"</span>      <span class="p">=</span> <span class="s2">"jdbc:mysql://${azurerm_mysql_server.main.fqdn}:3306/${azurerm_mysql_database.main.name}?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC"</span>
    <span class="s2">"SPRING_DATASOURCE_USERNAME"</span> <span class="p">=</span> <span class="s2">"${azurerm_mysql_server.main.administrator_login}@${azurerm_mysql_server.main.name}"</span>
    <span class="s2">"SPRING_DATASOURCE_PASSWORD"</span> <span class="p">=</span> <span class="s2">"${var.my_sql_master_password}"</span>
  <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div><p>In this configuration, under <code class="language-plaintext highlighter-rouge">site_config</code> we use <code class="language-plaintext highlighter-rouge">linux_fx_version</code> to declare our docker image and set <code class="language-plaintext highlighter-rouge">always_on</code> to true so that the application is not shut down when there is inactivity for some time.</p><p>In the <code class="language-plaintext highlighter-rouge">app_settings</code> section we need to disable storage using the flag <code class="language-plaintext highlighter-rouge">WEBSITES_ENABLE_APP_SERVICE_STORAGE</code> and also specify <code class="language-plaintext highlighter-rouge">DOCKER_REGISTRY_SERVER_URL</code>. Everything else is specific to our app. The flags passed to the MySQL connection URL is important.</p><p>Now that our <code class="language-plaintext highlighter-rouge">main.tf</code> is ready let us define some output properties that are handy. In the <code class="language-plaintext highlighter-rouge">outputs.tf</code> file add the below</p><div class="language-hcl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nx">output</span> <span class="s2">"app_service_name"</span> <span class="p">{</span>
  <span class="nx">value</span> <span class="p">=</span> <span class="s2">"${azurerm_app_service.main.name}"</span>
<span class="p">}</span>

<span class="nx">output</span> <span class="s2">"app_service_default_hostname"</span> <span class="p">{</span>
  <span class="nx">value</span> <span class="p">=</span> <span class="s2">"https://${azurerm_app_service.main.default_site_hostname}"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div><p>Now we are ready to rock and roll! let us deploy the app. Make sure you have set up your Azure CLI and have <a href="https://docs.microsoft.com/en-us/cli/azure/authenticate-azure-cli?view=azure-cli-latest">logged in</a> using <code class="language-plaintext highlighter-rouge">az login</code>. Now in a terminal/console navigate to the <code class="language-plaintext highlighter-rouge">terraform</code> folder we created and execute these commands. Please change the values for <code class="language-plaintext highlighter-rouge">prefix</code>, <code class="language-plaintext highlighter-rouge">location</code> &amp; <code class="language-plaintext highlighter-rouge">docker_image</code> accordingly.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>terraform init

<span class="nv">$ </span>terraform apply <span class="se">\</span>
<span class="nt">-var</span> <span class="nv">prefix</span><span class="o">=</span>myAwesomeApp <span class="se">\</span>
<span class="nt">-var</span> <span class="nv">location</span><span class="o">=</span>northeurope <span class="se">\</span>
<span class="nt">-var</span> <span class="nv">docker_image</span><span class="o">=</span>deepu105/hellojhipster <span class="se">\</span>
<span class="nt">-var</span> <span class="nv">docker_image_tag</span><span class="o">=</span>latest
</pre></td></tr></tbody></table></code></pre></div></div><p>This will prompt you to enter a master password for MySQL server and your Azure subscription ID(You can find this from Azure portal or by running <code class="language-plaintext highlighter-rouge">az account list</code>- the <code class="language-plaintext highlighter-rouge">id</code> field is the subscription ID). Once you provide the values and confirm, Terraform will get to work and will start creating the resources. this could take a while since we are provisioning a Database server. Wait for it or go have that second coffee ;)</p><p>Once the deployment is complete, Terraform will print out the outputs which include the <code class="language-plaintext highlighter-rouge">app_service_default_hostname</code>. Copy the URL and open it in your favorite browser. The first time could take a while since the app will be started(cold start) only during the first request.</p><p><img src="https://thepracticaldev.s3.amazonaws.com/i/t5kcj7r3r9w6bxghe350.png" alt=""></p><p>I hope you found this useful. This is my first post in <a href="https://dev.to/deepu105">dev.to</a>, I hope to migrate my blogs from <a href="https://medium.com/@deepu105">Medium</a> to <a href="https://dev.to/deepu105">dev.to</a> soon.</p><p>If you like this article, please leave a like or a comment.</p><p>You can follow me on <a href="https://twitter.com/deepu105">Twitter</a> and <a href="https://www.linkedin.com/in/deepu05/">LinkedIn</a>.</p><p>My other related posts:</p><ul><li><a href="https://deepu.tech/create-full-microservice-stack-using-j-hipster-domain-language-under-30-minutes">Create full Microservice stack using JHipster Domain Language under 30 minutes</a></li><li><a href="https://deepu.tech/deploying-jhipster-microservices-on-azure-kubernetes-service-aks">Deploying JHipster Microservices on Azure Kubernetes Service (AKS)</a></li><li><a href="https://deepu.tech/jhipster-microservices-with-istio-service-mesh-on-kubernetes">How to set up JHipster microservices with Istio service mesh on Kubernetes</a></li><li><a href="https://medium.com/xebialabs/continuous-delivery-of-microservices-with-xebialabs-a-k-a-devops-as-code-b5f0c3b2b1c8">Continuous delivery of Microservices with XebiaLabs — a.k.a DevOps as Code</a></li></ul></div><hr><div class="after-post-cats"><ul class="tags mb-4"></ul></div><div class="after-post-tags"><ul class="tags"><li><a class="smoothscroll" href="/tags#azure">#azure</a></li><li><a class="smoothscroll" href="/tags#java">#java</a></li><li><a class="smoothscroll" href="/tags#jhipster">#jhipster</a></li><li><a class="smoothscroll" href="/tags#terraform">#terraform</a></li></ul></div><div class="row PageNavigation d-flex justify-content-between font-weight-bold"><a class="prev d-block col-md-6" href="/react-done-right-with-typescript/">&laquo; React components done right with TypeScript mapped and conditional types</a> <a class="next d-block col-md-6 text-lg-right" href="/why-im-moving-away-from-medium/">Why I’m moving away from Medium &raquo;</a><div class="clearfix"></div></div><hr></div></div></div><div class="container"><div id="comments" class="row justify-content-center mb-5"><div class="col-md-8"><section class="hyvor"><div id="hyvor-talk-view"></div><script type="text/javascript">var HYVOR_TALK_WEBSITE=4123,HYVOR_TALK_CONFIG={url:"https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/",id:"https://deepu.tech/deploy-a-web-app-to-azure-app-service-using-terraform/"}</script><script async type="text/javascript" src="//talk.hyvor.com/web-api/embed"></script></section></div></div></div></div><div class="alertbar"><div class="container text-center"><span>Never miss a <b>story</b> from us, subscribe to our newsletter</span><form action="https://tech.us7.list-manage.com/subscribe/post?u=00729f6c6d6bb180801b9484e&amp;id=f521dede4b" method="post" name="mc-embedded-subscribe-form" id="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate><div class="mc-field-group"><input type="email" placeholder="Email address" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required> <input type="submit" value="Subscribe" name="subscribe" class="heart"></div></form></div></div></div><div class="jumbotron fortags lozad" data-background-image="/assets/images/jumbotron.jpg"><div class="d-md-flex h-100"><div class="col-md-4 transpdark align-self-center text-center h-100"><div class="d-md-flex align-items-center justify-content-center h-100"><h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2></div></div><div class="col-md-8 pt-1 ph-2 align-self-center text-center h-100"><a class="mt-1 mb-1" href="/tags#languages">languages (15)</a> <a class="mt-1 mb-1" href="/tags#programming">programming (15)</a> <a class="mt-1 mb-1" href="/tags#javascript">javascript (13)</a> <a class="mt-1 mb-1" href="/tags#java">java (12)</a> <a class="mt-1 mb-1" href="/tags#rust">rust (9)</a> <a class="mt-1 mb-1" href="/tags#beginners">beginners (8)</a> <a class="mt-1 mb-1" href="/tags#concurrency">concurrency (7)</a> <a class="mt-1 mb-1" href="/tags#go">go (7)</a> <a class="mt-1 mb-1" href="/tags#linux">linux (6)</a> <a class="mt-1 mb-1" href="/tags#kubernetes">kubernetes (5)</a> <a class="mt-1 mb-1" href="/tags#microservices">microservices (5)</a> <a class="mt-1 mb-1" href="/tags#typescript">typescript (5)</a> <a class="mt-1 mb-1" href="/tags#computerscience">computerscience (4)</a> <a class="mt-1 mb-1" href="/tags#development">development (4)</a> <a class="mt-1 mb-1" href="/tags#fedora">fedora (4)</a> <a class="mt-1 mb-1" href="/tags#functional">functional (4)</a> <a class="mt-1 mb-1" href="/tags#thepragmaticprogrammer">thepragmaticprogrammer (4)</a> <a class="mt-1 mb-1" href="/tags#async">async (3)</a> <a class="mt-1 mb-1" href="/tags#jhipster">jhipster (3)</a> <a class="mt-1 mb-1" href="/tags#azure">azure (2)</a> <a class="mt-1 mb-1" href="/tags#career">career (2)</a> <a class="mt-1 mb-1" href="/tags#codequality">codequality (2)</a> <a class="mt-1 mb-1" href="/tags#deno">deno (2)</a> <a class="mt-1 mb-1" href="/tags#devops">devops (2)</a> <a class="mt-1 mb-1" href="/tags#discuss">discuss (2)</a> <a class="mt-1 mb-1" href="/tags#docker">docker (2)</a> <a class="mt-1 mb-1" href="/tags#garbagecollection">garbagecollection (2)</a> <a class="mt-1 mb-1" href="/tags#gnome">gnome (2)</a> <a class="mt-1 mb-1" href="/tags#golang">golang (2)</a> <a class="mt-1 mb-1" href="/tags#kde">kde (2)</a> <a class="mt-1 mb-1" href="/tags#node">node (2)</a> <a class="mt-1 mb-1" href="/tags#nodejs">nodejs (2)</a> <a class="mt-1 mb-1" href="/tags#openjdk">openjdk (2)</a> <a class="mt-1 mb-1" href="/tags#react">react (2)</a> <a class="mt-1 mb-1" href="/tags#showdev">showdev (2)</a> <a class="mt-1 mb-1" href="/tags#terminal">terminal (2)</a> <a class="mt-1 mb-1" href="/tags#terraform">terraform (2)</a> <a class="mt-1 mb-1" href="/tags#webassembly">webassembly (2)</a> <a class="mt-1 mb-1" href="/tags#webdev">webdev (2)</a> <a class="mt-1 mb-1" href="/tags#architecture">architecture (1)</a> <a class="mt-1 mb-1" href="/tags#aws">aws (1)</a> <a class="mt-1 mb-1" href="/tags#bash">bash (1)</a> <a class="mt-1 mb-1" href="/tags#blogging">blogging (1)</a> <a class="mt-1 mb-1" href="/tags#books">books (1)</a> <a class="mt-1 mb-1" href="/tags#clojure">clojure (1)</a> <a class="mt-1 mb-1" href="/tags#codenewbie">codenewbie (1)</a> <a class="mt-1 mb-1" href="/tags#desktop">desktop (1)</a> <a class="mt-1 mb-1" href="/tags#developerexperience">developerexperience (1)</a> <a class="mt-1 mb-1" href="/tags#devrel">devrel (1)</a> <a class="mt-1 mb-1" href="/tags#devsecops">devsecops (1)</a> <a class="mt-1 mb-1" href="/tags#distributedsystems">distributedsystems (1)</a> <a class="mt-1 mb-1" href="/tags#engineering">engineering (1)</a> <a class="mt-1 mb-1" href="/tags#gaming">gaming (1)</a> <a class="mt-1 mb-1" href="/tags#ide">ide (1)</a> <a class="mt-1 mb-1" href="/tags#interview">interview (1)</a> <a class="mt-1 mb-1" href="/tags#istio">istio (1)</a> <a class="mt-1 mb-1" href="/tags#jdk">jdk (1)</a> <a class="mt-1 mb-1" href="/tags#Jekyll">Jekyll (1)</a> <a class="mt-1 mb-1" href="/tags#js">js (1)</a> <a class="mt-1 mb-1" href="/tags#jvm">jvm (1)</a> <a class="mt-1 mb-1" href="/tags#kotlin">kotlin (1)</a> <a class="mt-1 mb-1" href="/tags#loom">loom (1)</a> <a class="mt-1 mb-1" href="/tags#macos">macos (1)</a> <a class="mt-1 mb-1" href="/tags#mastodon">mastodon (1)</a> <a class="mt-1 mb-1" href="/tags#medium">medium (1)</a> <a class="mt-1 mb-1" href="/tags#memory-management">memory-management (1)</a> <a class="mt-1 mb-1" href="/tags#motivation">motivation (1)</a> <a class="mt-1 mb-1" href="/tags#multithreading">multithreading (1)</a> <a class="mt-1 mb-1" href="/tags#ohmyzsh">ohmyzsh (1)</a> <a class="mt-1 mb-1" href="/tags#opensource">opensource (1)</a> <a class="mt-1 mb-1" href="/tags#patternmatching">patternmatching (1)</a> <a class="mt-1 mb-1" href="/tags#polyglot">polyglot (1)</a> <a class="mt-1 mb-1" href="/tags#pragmatic">pragmatic (1)</a> <a class="mt-1 mb-1" href="/tags#python">python (1)</a> <a class="mt-1 mb-1" href="/tags#ruby">ruby (1)</a> <a class="mt-1 mb-1" href="/tags#scala">scala (1)</a> <a class="mt-1 mb-1" href="/tags#social">social (1)</a> <a class="mt-1 mb-1" href="/tags#svelte">svelte (1)</a> <a class="mt-1 mb-1" href="/tags#tech">tech (1)</a> <a class="mt-1 mb-1" href="/tags#ubuntu">ubuntu (1)</a> <a class="mt-1 mb-1" href="/tags#v8">v8 (1)</a> <a class="mt-1 mb-1" href="/tags#vr">vr (1)</a> <a class="mt-1 mb-1" href="/tags#vscode">vscode (1)</a> <a class="mt-1 mb-1" href="/tags#web">web (1)</a> <a class="mt-1 mb-1" href="/tags#windows">windows (1)</a> <a class="mt-1 mb-1" href="/tags#womenintech">womenintech (1)</a> <a class="mt-1 mb-1" href="/tags#writing">writing (1)</a> <a class="mt-1 mb-1" href="/tags#zsh">zsh (1)</a></div></div></div><footer class="footer"><div class="container"><div class="row"><div class="col-md-6 col-sm-6 text-center text-lg-left">Copyright © 2023 Deepu K Sasidharan<br><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img class="lozad" alt="Creative Commons License" style="border-width:0" src="/assets/images/placeholder.jpg" data-src="https://i.creativecommons.org/l/by/4.0/88x31.png"> </a>Content licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div><div class="col-md-6 col-sm-6 text-center text-lg-right"><a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net | Domain by <a href="https://js.org" target="_blank" title="JS.ORG | JavaScript Community"><img src="/assets/images/placeholder.jpg" data-src="https://logo.js.org/dark_tiny.png" style="width:50px" alt="JS.ORG Logo" class="lozad"> </a>| Hosted with <i class="far fa-heart"></i> by <a href="https://pages.github.com/" target="_blank">Github</a></div></div></div></footer></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js" integrity="sha256-34Si1Y6llMBKM3G0jQILVeoQKEwuxjbk4zGWXXMT4ps=" crossorigin="anonymous"></script><script async src="/assets/js/lunrsearchengine.js"></script><script async src="/assets/js/mediumish.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.14.0/lozad.min.js" integrity="sha256-hstwhDmGVwZjIwt6SlTG6sQBREWrWTBjVTik/JLlb1Y=" crossorigin="anonymous"></script><script>// lazy loads images
        const lazyloadObserver = lozad()
        lazyloadObserver.observe();</script><script async src="/assets/js/ie10-viewport-bug-workaround.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74370272-6"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-74370272-6")</script></body></html>